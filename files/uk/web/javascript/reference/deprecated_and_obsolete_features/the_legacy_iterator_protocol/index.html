---
title: Протокол застарілого ітератора
slug: >-
  Web/JavaScript/Reference/Deprecated_and_obsolete_features/The_legacy_Iterator_protocol
tags:
  - ECMAScript 2015
  - JavaScript
  - застарілий ітератор
translation_of: >-
  Web/JavaScript/Reference/Deprecated_and_obsolete_features/The_legacy_Iterator_protocol
---
<div>{{jsSidebar("More")}}</div>

<div class="warning"><strong>Нестандартний.</strong> Протокол застарілого ітератора був особливою функціональністю SpiderMonkey, яка була прибрана у Firefox 58+. Для використання у майбутньому розгляньте цикли <a href="/uk/docs/Web/JavaScript/Reference/Statements/for...of">for..of</a> та <a href="/uk/docs/Web/JavaScript/Reference/Протоколи_перебору">протокол ітератора</a>.</div>

<h2 id="Протокол_застарілого_ітератора_лише_для_Firefox">Протокол застарілого ітератора лише для Firefox</h2>

<p>Firefox, до версії 26, реалізовував інший протокол ітератора, схожий на стандартний <a href="/uk/docs/Web/JavaScript/Reference/Протоколи_перебору">Протокол ітератора ES2015</a>.</p>

<p>Об'єкт є застарілим ітератором, коли реалізує метод <code>next()</code> з наступною семантикою, та викидає {{jsxref("Global_Objects/StopIteration", "StopIteration")}} в кінці перебору.</p>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Властивість</th>
   <th scope="col">Значення</th>
  </tr>
  <tr>
   <td><code>next</code></td>
   <td>Функція з нулем аргументів, яка повертає значення.</td>
  </tr>
 </tbody>
</table>

<h3 id="Різниця_між_протоколами_ітератора_ES2015_та_застарілого_ітератора">Різниця між протоколами ітератора ES2015 та застарілого ітератора</h3>

<ul>
 <li>Значення поверталось безпосередньо як повернене значення викликів <code>next</code>, а не як властивість <code>value</code> поверненого об'єкта</li>
 <li>Переривання перебору виражалось викиданням об'єкта {{jsxref("Global_Objects/StopIteration", "StopIteration")}}.</li>
</ul>

<h3 id="Простий_приклад_зі_старим_протоколом">Простий приклад зі старим протоколом</h3>

<pre class="brush: js">function makeIterator(array){
    var nextIndex = 0;

    return {
       next: function(){
           if(nextIndex &lt; array.length){
               return array[nextIndex++];
           else
               throw new StopIteration();
       }
    }
}

var it = makeIterator(['yo', 'ya']);

console.log(it.next()); // 'yo'
console.log(it.next()); // 'ya'
try{
    console.log(it.next());
}
catch(e){
    if(e instanceof StopIteration){
         // перебір завершено
    }
}
</pre>

<h2 id="Див._також">Див. також</h2>

<ul>
 <li><a href="/uk/docs/Web/JavaScript/Guide/Iterators_and_Generators">Ітератори та генератори</a></li>
 <li>Більше <a href="/uk/docs/Web/JavaScript/Reference/Deprecated_and_obsolete_features">застарілої та некомендованої функціональності</a></li>
</ul>
