---
title: <keygen>
slug: Web/HTML/Element/keygen
tags:
  - Deprecated
  - Element
  - HTML
  - HTML forms
  - HTML5
  - Reference
  - Web
translation_of: Web/HTML/Element/keygen
---
<p>{{deprecated_header}}</p>

<p>L'element HTML <code>&lt;keygen&gt;</code> existeix per facilitar la generació de material clau, i la presentació de la clau pública com a part d'un <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms">formulari HTML</a>. Aquest mecanisme està dissenyat per funcionar amb sistemes de gestió de certificats basats en web. S'espera que l'element <code>&lt;keygen&gt;</code> s'utilitzi en un formulari HTML juntament amb una altra informació necessària per construir una sol·licitud de certificat, i que el resultat del procés serà un certificat signat.</p>

<div class="note">
<p>En l'actualitat existeix el debat entre els fabricants de navegadors web, si mantenir aquesta característica o no. Fins que s'arribi a una decisió, és millor segui considerant aquesta característica com desaprovada i desapareguda.</p>
</div>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row"><a href="/en-US/docs/HTML/Content_categories" title="HTML/Content_categories">Categories de continguts</a></th>
   <td><a href="/en-US/docs/HTML/Content_categories#Flow_content" title="HTML/Content categories#Flow content">Contingut dinàmic</a>, <a href="/en-US/docs/HTML/Content_categories#Phrasing_content" title="HTML/Content categories#Phrasing content">phrasing content</a>, contingut interactiu, <a href="/en-US/docs/HTML/Content_categories#Form_listed" title="HTML/Content categories#Form listed">enumerta</a>, <a href="/en-US/docs/HTML/Content_categories#Form_labelable" title="HTML/Content categories#Form labelable">etiquetable</a>, <a href="/en-US/docs/HTML/Content_categories#Form_submittable" title="HTML/Content categories#Form submittable">presentable</a>, <a href="/en-US/docs/HTML/Content_categories#Form_resettable" title="HTML/Content categories#Form resettable">reajustable</a>  <a href="/en-US/docs/HTML/Content_categories#Form-associated_content" title="HTML/Content categories#Form-associated content">element associat a formulari</a>, contingut palpable.</td>
  </tr>
  <tr>
   <th scope="row">Contingut permès</th>
   <td>Cap, és un {{Glossary("empty element")}}.</td>
  </tr>
  <tr>
   <th scope="row">Omissió de l'etiqueta</th>
   <td><span id="result_box" lang="ca"><span>Ha de tenir una</span> <span>etiqueta d'inici</span> <span>i</span> <span>no </span><span> una</span> <span>etiqueta </span></span><span lang="ca"><span>de tancament</span></span>.</td>
  </tr>
  <tr>
   <th scope="row">Elements pares permesos</th>
   <td>Qualsevol element que accepti <a href="/en-US/docs/HTML/Content_categories#Phrasing_content" title="HTML/Content_categories#Phrasing_content">phrasing content</a>.</td>
  </tr>
  <tr>
   <th scope="row">Interfície DOM</th>
   <td>{{domxref("HTMLKeygenElement")}}</td>
  </tr>
 </tbody>
</table>

<h2 id="Atributs">Atributs</h2>

<p>Aquest element inclou els<span style="line-height: 21px;"> </span><a href="https://developer.mozilla.org/en-US/docs/HTML/Global_attributes" style="line-height: 21px;" title="HTML/Global attributes">atributs globals</a><span style="line-height: 21px;">.</span></p>

<dl>
 <dt>{{htmlattrdef("autofocus")}}</dt>
 <dd>Aquest atribut booleà permet especificar que el control ha de tenir el focus d'entrada quan es carrega la pàgina, llevat que l'usuari ho anul·li, per exemple escrivint en un control diferent. Només un element de formulari en un document pot tenir l'atribut <code>autofocus</code>, el qual és un valor booleà.</dd>
 <dt>{{htmlattrdef("challenge")}}</dt>
 <dd>Una cadena de repte que s'envia juntament amb la clau pública. El valor per omissió és una cadena buida si no s'especifica.</dd>
 <dt>{{htmlattrdef("disabled")}}</dt>
 <dd><span id="result_box" lang="ca"><span>Aquest</span> <span>atribut</span> <span>booleà</span> <span>indica</span> <span>que el control</span> <span>de formulari</span> <span>no està</span> <span>disponible per a la</span> <span>interacció.</span></span></dd>
 <dt>{{htmlattrdef("form")}}</dt>
 <dd>L'element formulari al que està associat aquest element (el seu <em>propietari de formulari</em>). El valor de l'atribut ha de ser un <code>id</code> d'un element {{HTMLElement("form")}} en el mateix document. Si no s'especifica aquest atribut, aquest element ha de ser un descendent d'un element {{HTMLElement("form")}}. Aquest atribut li permet dipositar elements <code>&lt;keygen&gt;</code> en qualsevol lloc dins d'un document, no només com descendents dels seus elements de formulari</dd>
 <dt>{{htmlattrdef("keytype")}}</dt>
 <dd><span id="result_box" lang="ca"><span>El tipus</span> <span>de clau</span> <span>generada.</span> <span>El valor</span> <span>per defecte</span> <span>és</span> <span>RSA.</span></span></dd>
 <dt>{{htmlattrdef("name")}}</dt>
 <dd><span id="result_box" lang="ca"><span>El</span> <span>nom</span> <span>del control,</span> <span>que es presenta</span> <span>amb</span> <span>les dades del</span> <span>formulari.</span></span></dd>
</dl>

<p><span id="result_box" lang="ca"><span>L'element</span> <span>s'escriu</span> <span>així:</span></span></p>

<pre class="brush: html">&lt;keygen name="<var>name</var>" challenge="<var>challenge string</var>" keytype="<var>type</var>" keyparams="<var>pqg-params</var>"&gt;</pre>

<p>El paràmetre <code>keytype</code> s'utilitza per especificar quin tipus de clau es generarà. Els valors vàlids són "RSA", que és el valor per defecte, "DSA" i "CE". El <code>name</code> i els atributs <code>challenge</code> són necessaris en tots els casos. L'atribut <code>keytype</code> és opcional per a la generació de claus RSA i  necessària per a la generació de claus DSA i CE. L'atribut  <code>keyparams</code> és necessari per a la generació de claus DSA i CE i ignorat per a la generació de claus RSA. PQG és sinònim de <code>keyparams</code>. És a dir, es pot especificar <code>keyparams= "pqg-params"</code> o <code>pqg="pqg-params"</code>.</p>

<p>Per a les claus RSA, el paràmetre <code>keyparams</code> no s'utilitza (s'ignora si està present). L'usuari pot tenir una opció dels nivells de qualitat de la clau RSA. Actualment, l'usuari ha de triar entre nivell de qualitat "high" (2048 bits) i nivell de qualitat "medium" (1024 bits).</p>

<p>Per a les claus DSA, el paràmetre <code>keyparams</code> especifica els paràmetres DSA PQG que es van a utilitzar en el procés keygen. El valor del paràmetre <code>pqg</code> és BASE64 codificat, DER codificat DSS-Parms com s'especifica en IETF <a href="ftp://ftp.rfc-editor.org/in-notes/rfc3279.txt">RFC 3279</a>. L'usuari pot tenir una varietat de mides de clau DSA, el que permet a l'usuari triar una de les mides definides en l'estàndard DSA.</p>

<p>Per a les claus CE, el paràmetre <code>keyparams</code> especifica el nom de la corba el·líptica en la qual es genera la clau. Normalment és una cadena de la taula <a href="http://mxr.mozilla.org/mozilla-central/source/security/manager/ssl/src/nsKeygenHandler.cpp?mark=179-185,187-206,208-227,229-256#177">nsKeygenHandler.cpp</a>. (Tingui en compte que només un subconjunt de les corbes nomenades allí pot ser suportat en qualsevol navegador en particular.) Si la cadena de paràmetres keyparams no és una cadena de nom de corba reconeixible, es tria una corba d'acord amb la qualitat de la clau triada per l'usuari (baixa, mitja , alta), utilitzant la corba anomenada <code>"secp384r1"</code> per a les claus altes, i la corba anomenada <code>"secp256r1"</code> per a les claus mitjanes. (Nota: Per determinar el nombre de claus de qualitat, els valors per defecte per a cada nivell de qualitat, i la interfície d'usuari mitjançant la qual s'ofereix a l'usuari una elecció, es troben fora de l'abast d'aquesta especificació.)</p>

<p>L'element <code>&lt;keygen&gt;</code> només és vàlida dins d'un formulari HTML. Això causarà algun tipus de selecció que es presenta a l'usuari per a la selecció de mida de la clau. La interfície d'usuari per a la selecció pot ser un menú, botons de radi, possiblement una altra cosa. El navegador presenta diverses claus de qualitat possibles. En l'actualitat, dos nivells de qualitat s'ofereixen, mitja i alta. Si el navegador de l'usuari està configurat per suportar maquinari criptogràfic (per exemple, les "targetes intel·ligents") l'usuari també es pot donar l'opció d'on generar la clau, és a dir, en una targeta intel·ligent o en el programari i emmagatzemar-la en el disc.</p>

<p>Quan es prem el botó d'enviar, es genera un parell de claus de la mida seleccionada. La clau privada es xifra i s'emmagatzema a la base de dades de claus local.</p>

<pre>   PublicKeyAndChallenge ::= SEQUENCE {
       spki SubjectPublicKeyInfo,
       challenge IA5STRING
   }
   SignedPublicKeyAndChallenge ::= SEQUENCE {
       publicKeyAndChallenge PublicKeyAndChallenge,
       signatureAlgorithm AlgorithmIdentifier,
       signature BIT STRING
   }</pre>

<p>La clau pública i la cadena de repte són DER codificades com <code>PublicKeyAndChallenge</code>, i a continuació, signades digitalment amb la clau privada per produir <code>SignedPublicKeyAndChallenge</code>. El <code>SignedPublicKeyAndChallenge</code> és {{Glossary("Base64")}} codificada, i les dades ASCII finalment s'envia al servidor com el valor d'un parell de nom / valor de formulari, on el nom és el <em>name</em> especificat per l'atribut <em>name</em> de l' element <code>keygen</code>. Si no es proporciona cap cadena de repte, llavors es codificarà com una <code>IA5STRING</code> de longitud zero.</p>

<p>Heus aquí un exemple d'enviament de formularis, ja que seria lliurat a un programa CGI pel servidor HTTP:</p>

<pre>   commonname=John+Doe&amp;email=doe@foo.com&amp;org=Foobar+Computing+Corp.&amp;
   orgunit=Bureau+of+Bureaucracy&amp;locality=Anytown&amp;state=California&amp;country=US&amp;
   key=MIHFMHEwXDANBgkqhkiG9w0BAQEFAANLADBIAkEAnX0TILJrOMUue%2BPtwBRE6XfV%0AWtKQbsshxk5ZhcUwcwyvcnIq9b82QhJdoACdD34rqfCAIND46fXKQUnb0mvKzQID%0AAQABFhFNb3ppbGxhSXNNeUZyaWVuZDANBgkqhkiG9w0BAQQFAANBAAKv2Eex2n%2FS%0Ar%2F7iJNroWlSzSMtTiQTEB%2BADWHGj9u1xrUrOilq%2Fo2cuQxIfZcNZkYAkWP4DubqW%0Ai0%2F%2FrgBvmco%3D</pre>

<h2 id="Exemples">Exemples</h2>

<ul>
 <li><a class="link-https" href="https://bugzilla.mozilla.org/attachment.cgi?id=380749" title="https://bugzilla.mozilla.org/attachment.cgi?id=380749">Exemple de formulari amb l'element RSA KEYGEN</a></li>
 <li><a class="link-https" href="https://bugzilla.mozilla.org/attachment.cgi?id=380750" title="https://bugzilla.mozilla.org/attachment.cgi?id=380750">Exemple de formulari amb l'element DSA KEYGEN i paràmetres PQG</a></li>
 <li><a class="link-https" href="https://bugzilla.mozilla.org/attachment.cgi?id=380751" title="https://bugzilla.mozilla.org/attachment.cgi?id=380751">Exemple de formulari amb l'element DSA KEYGEN però sense paràmetres PQG</a></li>
 <li><a class="link-https" href="https://bugzilla.mozilla.org/attachment.cgi?id=380752" title="https://bugzilla.mozilla.org/attachment.cgi?id=380752">Exemple de formulari amb l'element EC KEYGEN </a></li>
</ul>

<h2 id="Especificacions">Especificacions</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Especificació</th>
   <th scope="col">Estat</th>
   <th scope="col">Comentari</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>{{SpecName('HTML WHATWG', 'the-button-element.html#the-keygen-element', '&lt;keygen&gt;')}}</td>
   <td>{{Spec2('HTML WHATWG')}}</td>
   <td> </td>
  </tr>
  <tr>
   <td>{{SpecName('HTML5 W3C', 'forms.html#the-keygen-element', '&lt;keygen&gt;')}}</td>
   <td>{{Spec2('HTML5 W3C')}}</td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Navegadors_compatibles">Navegadors compatibles</h2>

<p>{{CompatibilityTable}}</p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Característica</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>uport bàsic</td>
   <td>{{compatChrome(1.0)}} [1]</td>
   <td>{{CompatGeckoDesktop("1.0")}}</td>
   <td>{{CompatNo}}</td>
   <td>3.0</td>
   <td>1.2</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Característica</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android</th>
  </tr>
  <tr>
   <td>uport bàsic</td>
   <td>2.3</td>
   <td>{{CompatVersionUnknown}} [1]</td>
   <td>{{CompatGeckoMobile("1.0")}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatUnknown}}</td>
   <td>{{CompatNo}}</td>
   <td>{{CompatVersionUnknown}} [1]</td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Desaprovat en Chrome 49.</p>

<p>{{HTMLRef}}</p>
